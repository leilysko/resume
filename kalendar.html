<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Календарь на текущий месяц</title>
    <style>
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
            margin: 0;
            background-color: #f5f5f5;
        }
        
        .calendar-container {
            background-color: white;
            border-radius: 8px;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
            padding: 20px;
            max-width: 600px;
            width: 100%;
        }
        
        table {
            width: 100%;
            border-collapse: collapse;
            margin-top: 10px;
        }
        
        caption {
            font-size: 1.5em;
            font-weight: bold;
            padding: 10px;
            background-color: #f0f0f0;
            border-radius: 4px;
            margin-bottom: 10px;
        }
        
        th, td {
            padding: 12px;
            text-align: center;
            border: 1px solid #ddd;
        }
        
        th {
            background-color: #f8f8f8;
            font-weight: bold;
        }
        
        .week-number {
            background-color: #f0f0f0;
            font-weight: bold;
        }
        
        .weekend {
            background-color: #f9f9f9;
        }
        
        del, s {
            color: #888;
        }
        
        mark {
            background-color: #ffeb3b;
            padding: 2px 5px;
            border-radius: 3px;
        }
        
        @media (max-width: 480px) {
            th, td {
                padding: 8px 4px;
                font-size: 0.9em;
            }
            
            caption {
                font-size: 1.2em;
            }
        }
    </style>
</head>
<body>
    <div class="calendar-container">
        <table id="calendar">
            <!-- Заголовок с месяцем и годом будет добавлен JavaScript -->
            <thead>
                <tr>
                    <th class="week-number">Неделя</th>
                    <th>Пн</th>
                    <th>Вт</th>
                    <th>Ср</th>
                    <th>Чт</th>
                    <th>Пт</th>
                    <th>Сб</th>
                    <th>Вс</th>
                </tr>
            </thead>
            <tbody id="calendar-body">
                <!-- Содержимое календаря будет добавлено JavaScript -->
            </tbody>
        </table>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', function() {
            // Получаем текущую дату
            const now = new Date();
            const currentYear = now.getFullYear();
            const currentMonth = now.getMonth();
            const currentDate = now.getDate();
            
            // Названия месяцев
            const monthNames = [
                "Январь", "Февраль", "Март", "Апрель", "Май", "Июнь",
                "Июль", "Август", "Сентябрь", "Октябрь", "Ноябрь", "Декабрь"
            ];
            
            // Устанавливаем заголовок таблицы
            const caption = document.createElement('caption');
            caption.textContent = `${monthNames[currentMonth]} ${currentYear}`;
            document.getElementById('calendar').insertBefore(caption, document.querySelector('thead'));
            
            // Получаем первый день месяца и количество дней в месяце
            const firstDay = new Date(currentYear, currentMonth, 1);
            const lastDay = new Date(currentYear, currentMonth + 1, 0);
            const daysInMonth = lastDay.getDate();
            
            // Определяем день недели первого дня месяца (0 - воскресенье, 1 - понедельник, ...)
            let firstDayOfWeek = firstDay.getDay();
            // Преобразуем к формату: 0 - понедельник, 6 - воскресенье
            firstDayOfWeek = firstDayOfWeek === 0 ? 6 : firstDayOfWeek - 1;
            
            // Создаем календарь
            const calendarBody = document.getElementById('calendar-body');
            let date = 1;
            
            for (let i = 0; i < 6; i++) {
                // Создаем строку для недели
                const row = document.createElement('tr');
                
                // Добавляем номер недели
                const weekNumberCell = document.createElement('td');
                weekNumberCell.className = 'week-number';
                
                // Вычисляем номер недели
                const weekDate = new Date(currentYear, currentMonth, date);
                // Копируем дату для расчета номера недели
                const tempDate = new Date(weekDate);
                tempDate.setDate(tempDate.getDate() + 4 - (tempDate.getDay() || 7));
                const yearStart = new Date(tempDate.getFullYear(), 0, 1);
                const weekNumber = Math.ceil(((tempDate - yearStart) / 86400000 + 1) / 7);
                
                weekNumberCell.textContent = weekNumber;
                row.appendChild(weekNumberCell);
                
                // Заполняем дни недели
                for (let j = 0; j < 7; j++) {
                    const cell = document.createElement('td');
                    
                    if (i === 0 && j < firstDayOfWeek) {
                        // Пустые ячейки перед первым днем месяца
                        cell.textContent = '';
                    } else if (date > daysInMonth) {
                        // Пустые ячейки после последнего дня месяца
                        cell.textContent = '';
                    } else {
                        // Ячейки с датами
                        if (j === 5 || j === 6) { // Суббота и воскресенье (5 и 6)
                            cell.innerHTML = `<strong>${date}</strong>`;
                            cell.className = 'weekend';
                        } else {
                            cell.textContent = date;
                        }
                        
                        // Зачеркиваем прошедшие даты
                        if (date < currentDate) {
                            cell.innerHTML = `<del>${cell.innerHTML}</del>`;
                        }
                        
                        // Выделяем текущую дату
                        if (date === currentDate) {
                            cell.innerHTML = `<mark>${cell.innerHTML}</mark>`;
                        }
                        
                        date++;
                    }
                    
                    row.appendChild(cell);
                }
                
                calendarBody.appendChild(row);
                
                // Если все дни месяца добавлены, прерываем цикл
                if (date > daysInMonth) {
                    break;
                }
            }
        });
    </script>
</body>
</html>